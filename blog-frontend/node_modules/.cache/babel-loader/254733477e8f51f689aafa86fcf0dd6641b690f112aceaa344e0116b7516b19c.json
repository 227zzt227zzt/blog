{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"margin-bottom\": \"16px\",\n    \"text-align\": \"right\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_color_picker = _resolveComponent(\"el-color-picker\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createBlock(_component_el_card, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.handleAdd\n    }, {\n      default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"新增标签\")])),\n      _: 1 /* STABLE */,\n      __: [6]\n    })]), _createVNode(_component_el_table, {\n      data: $setup.tags,\n      style: {\n        \"width\": \"100%\"\n      },\n      loading: $setup.loading\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        label: \"标签名称\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, {\n          style: _normalizeStyle({\n            backgroundColor: scope.row.color,\n            color: '#fff',\n            border: 'none',\n            cursor: 'pointer',\n            transition: 'background 0.2s'\n          })\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.name), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"style\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"description\",\n        label: \"描述\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"180\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          size: \"small\",\n          onClick: $event => $setup.handleEdit(scope.row)\n        }, {\n          default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"编辑\")])),\n          _: 2 /* DYNAMIC */,\n          __: [7]\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_button, {\n          size: \"small\",\n          type: \"danger\",\n          onClick: $event => $setup.handleDelete(scope.row)\n        }, {\n          default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"删除\")])),\n          _: 2 /* DYNAMIC */,\n          __: [8]\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\", \"loading\"]), _createVNode(_component_el_dialog, {\n      modelValue: $setup.dialogVisible,\n      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.dialogVisible = $event),\n      title: $setup.dialogTitle,\n      width: \"400px\"\n    }, {\n      footer: _withCtx(() => [_createVNode(_component_el_button, {\n        onClick: _cache[4] || (_cache[4] = $event => $setup.dialogVisible = false)\n      }, {\n        default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"取消\")])),\n        _: 1 /* STABLE */,\n        __: [9]\n      }), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.handleSubmit\n      }, {\n        default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"确定\")])),\n        _: 1 /* STABLE */,\n        __: [10]\n      })]),\n      default: _withCtx(() => [_createVNode(_component_el_form, {\n        model: $setup.form,\n        \"label-width\": \"80px\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, {\n          label: \"标签名称\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.form.name,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.name = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"描述\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.form.description,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.description = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"颜色\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_color_picker, {\n            modelValue: $setup.form.color,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.form.color = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_el_input, {\n            modelValue: $setup.form.color,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.form.color = $event),\n            style: {\n              \"width\": \"120px\",\n              \"margin-left\": \"10px\"\n            }\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"title\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["style","_createBlock","_component_el_card","_createElementVNode","_hoisted_1","_createVNode","_component_el_button","type","onClick","$setup","handleAdd","_cache","_component_el_table","data","tags","loading","_component_el_table_column","label","default","_withCtx","scope","_component_el_tag","_normalizeStyle","backgroundColor","row","color","border","cursor","transition","name","prop","width","size","$event","handleEdit","handleDelete","_component_el_dialog","dialogVisible","title","dialogTitle","footer","handleSubmit","_component_el_form","model","form","_component_el_form_item","_component_el_input","description","_component_el_color_picker"],"sources":["C:\\Users\\52291\\Desktop\\test\\blog\\blog\\blog-frontend\\src\\views\\tags\\AllTags.vue"],"sourcesContent":["<script setup>\r\nimport { listTags, createTag, deleteTag, updateTag } from '@/api/tags'\r\nimport { ref, onMounted } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\n\r\nconst tags = ref([])\r\nconst loading = ref(false)\r\nconst dialogVisible = ref(false)\r\nconst dialogTitle = ref('')\r\nconst form = ref({ id: null, name: '', description: '', color: '' })\r\nconst isEdit = ref(false)\r\nconst fetchTags = () => {\r\n    loading.value = true\r\n    listTags().then(res => {\r\n        tags.value = res.data\r\n    }).finally(() => {\r\n        loading.value = false\r\n    })\r\n}\r\n\r\nonMounted(() => {\r\n    fetchTags()\r\n})\r\n\r\nconst handleAdd = () => {\r\n    dialogTitle.value = '新增标签'\r\n    isEdit.value = false\r\n    form.value = { id: null, name: '', description: '', color: '' }\r\n    dialogVisible.value = true\r\n}\r\n\r\nconst handleEdit = (row) => {\r\n    dialogTitle.value = '编辑标签'\r\n    isEdit.value = true\r\n    form.value = { ...row }\r\n    dialogVisible.value = true\r\n}\r\n\r\nconst handleDelete = (row) => {\r\n    ElMessageBox.confirm('确定要删除该标签吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n    }).then(() => {\r\n        deleteTag(row.id).then(() => {\r\n            ElMessage.success('删除成功')\r\n            fetchTags()\r\n        })\r\n    }).catch(() => {})\r\n}\r\n\r\nconst handleSubmit = () => {\r\n    if (!form.value.name) {\r\n        ElMessage.warning('请输入标签名称')\r\n        return\r\n    }\r\n    if (isEdit.value) {\r\n        updateTag(form.value.id, {\r\n            name: form.value.name,\r\n            description: form.value.description,\r\n            color: form.value.color\r\n        }).then(() => {\r\n            ElMessage.success('修改成功')\r\n            dialogVisible.value = false\r\n            fetchTags()\r\n        })\r\n    } else {\r\n        createTag({\r\n            name: form.value.name,\r\n            description: form.value.description,\r\n            color: form.value.color\r\n        }).then(() => {\r\n            ElMessage.success('新增成功')\r\n            dialogVisible.value = false\r\n            fetchTags()\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n    \r\n<el-card>\r\n    <div style=\"margin-bottom: 16px; text-align: right;\">\r\n        <el-button type=\"primary\" @click=\"handleAdd\">新增标签</el-button>\r\n    </div>\r\n    <el-table :data=\"tags\" style=\"width: 100%\" :loading=\"loading\">\r\n        <el-table-column label=\"标签名称\">\r\n            <template #default=\"scope\">\r\n                <el-tag :style=\"{ backgroundColor: scope.row.color, color: '#fff', border: 'none', cursor: 'pointer', transition: 'background 0.2s' }\">\r\n                    {{ scope.row.name }}\r\n                </el-tag>\r\n            </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"description\" label=\"描述\" />\r\n        <el-table-column label=\"操作\" width=\"180\">\r\n            <template #default=\"scope\">\r\n                <el-button size=\"small\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                <el-button size=\"small\" type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n    <el-dialog v-model=\"dialogVisible\" :title=\"dialogTitle\" width=\"400px\">\r\n        <el-form :model=\"form\" label-width=\"80px\">\r\n            <el-form-item label=\"标签名称\">\r\n                <el-input v-model=\"form.name\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"描述\">\r\n                <el-input v-model=\"form.description\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"颜色\">\r\n                <el-color-picker v-model=\"form.color\" />\r\n                <el-input v-model=\"form.color\" style=\"width: 120px; margin-left: 10px;\" />\r\n            </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n            <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n            <el-button type=\"primary\" @click=\"handleSubmit\">确定</el-button>\r\n        </template>\r\n    </el-dialog>\r\n</el-card>\r\n</template>\r\n\r\n<style scoped>\r\n/* 移除悬停效果，保持 el-tag 悬停和普通状态一致 */\r\n:deep(.el-tag) {\r\n  transition: none;\r\n}\r\n</style>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}