{"ast":null,"code":"// 获取文章列表\nimport request from '@/utils/request';\nexport const getArticles = async params => {\n  try {\n    // 将参数转换为后端需要的格式\n    const requestParams = {\n      currentPage: params.page,\n      // 映射为后端需要的currentPage\n      size: params.size // 保持size不变\n    };\n    const response = await request.get('/articles', {\n      params: requestParams\n    });\n    if (response.data && response.code === 200) {\n      return {\n        success: true,\n        code: 200,\n        data: response.data,\n        // 注意这里改为response.data.data\n        message: '获取文章列表成功'\n      };\n    } else {\n      return {\n        success: false,\n        message: response.data?.message || '获取文章列表失败'\n      };\n    }\n  } catch (error) {\n    console.error('获取文章列表失败:', error);\n    return {\n      success: false,\n      message: error.response?.data?.message || '获取文章列表失败'\n    };\n  }\n};\n\n// 获取文章详情\nexport const getArticleById = async id => {\n  try {\n    const response = await request.get(`/articles/${id}`);\n    if (response.data && response.code === 200) {\n      return {\n        success: true,\n        code: 200,\n        data: response.data,\n        message: '获取文章详情成功'\n      };\n    } else {\n      return {\n        success: false,\n        message: response.data.message || '获取文章详情失败'\n      };\n    }\n  } catch (error) {\n    console.error('获取文章详情失败:', error);\n    return {\n      success: false,\n      message: error.response?.data?.message || '获取文章详情失败'\n    };\n  }\n};\n\n// 删除文章\nexport const deleteArticle = async id => {\n  try {\n    const response = await request.delete(`/articles/${id}`);\n    if (response.code === 200) {\n      return {\n        success: true,\n        code: 200,\n        message: '删除文章成功'\n      };\n    } else {\n      return {\n        success: false,\n        message: response.message || '删除文章失败'\n      };\n    }\n  } catch (error) {\n    console.error('删除文章失败:', error);\n    return {\n      success: false,\n      message: error.response?.data?.message || '删除文章失败'\n    };\n  }\n};\n\n// 上传文章封面图\nexport const uploadArticleCover = async formData => {\n  try {\n    const response = await request.post(`/articles/uploadCover`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    if (response.data && response.code === 200) {\n      return {\n        success: true,\n        code: 200,\n        data: response.data,\n        message: '封面图上传成功'\n      };\n    } else {\n      return {\n        success: false,\n        message: response.message || '封面图上传失败'\n      };\n    }\n  } catch (error) {\n    console.error('封面图上传失败:', error);\n    return {\n      success: false,\n      message: error.response?.data?.message || '封面图上传失败'\n    };\n  }\n};\n\n// 创建文章\nexport const createArticle = async articleData => {\n  try {\n    const response = await request.post('/articles', articleData);\n    if (response.data && response.code === 200) {\n      return {\n        success: true,\n        code: 200,\n        message: '创建文章成功'\n      };\n    } else {\n      return {\n        success: false,\n        message: response.message || '创建文章失败'\n      };\n    }\n  } catch (error) {\n    console.error('创建文章失败:', error);\n    return {\n      success: false,\n      message: error.response?.data?.message || '创建文章失败'\n    };\n  }\n};\n\n// 更新文章\nexport const updateArticle = async (id, articleData) => {\n  try {\n    const response = await request.put('/articles', {\n      ...articleData,\n      id\n    });\n    if (response.data && response.code === 200) {\n      return {\n        success: true,\n        code: 200,\n        message: '更新文章成功'\n      };\n    } else {\n      return {\n        success: false,\n        message: response.message || '更新文章失败'\n      };\n    }\n  } catch (error) {\n    console.error('更新文章失败:', error);\n    return {\n      success: false,\n      message: error.response?.data?.message || '更新文章失败'\n    };\n  }\n};","map":{"version":3,"names":["request","getArticles","params","requestParams","currentPage","page","size","response","get","data","code","success","message","error","console","getArticleById","id","deleteArticle","delete","uploadArticleCover","formData","post","headers","createArticle","articleData","updateArticle","put"],"sources":["C:/Users/52291/Desktop/test/blog/blog/blog-frontend/src/api/article.js"],"sourcesContent":["// 获取文章列表\r\nimport request from '@/utils/request'\r\n\r\nexport const getArticles = async (params) => {\r\n  try {\r\n    // 将参数转换为后端需要的格式\r\n    const requestParams = {\r\n      currentPage: params.page,  // 映射为后端需要的currentPage\r\n      size: params.size          // 保持size不变\r\n    }\r\n    \r\n    const response = await request.get('/articles', { params: requestParams })\r\n    \r\n    if (response.data && response.code === 200) {\r\n      return {\r\n        success: true,\r\n        code: 200,\r\n        data: response.data,  // 注意这里改为response.data.data\r\n        message: '获取文章列表成功'\r\n      }\r\n    } else {\r\n      return {\r\n        success: false,\r\n        message: response.data?.message || '获取文章列表失败'\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('获取文章列表失败:', error)\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || '获取文章列表失败'\r\n    }\r\n  }\r\n}\r\n  \r\n  // 获取文章详情\r\n  export const getArticleById = async (id) => {\r\n    try {\r\n      const response = await request.get(`/articles/${id}`)\r\n      if (response.data && response.code === 200) {\r\n        return {\r\n          success: true,\r\n          code: 200,\r\n          data: response.data,\r\n          message: '获取文章详情成功'\r\n        }\r\n      } else {\r\n        return {\r\n          success: false,\r\n          message: response.data.message || '获取文章详情失败'\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('获取文章详情失败:', error)\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || '获取文章详情失败'\r\n      }\r\n    }\r\n  }\r\n  \r\n  // 删除文章\r\n  export const deleteArticle = async (id) => {\r\n    try {\r\n      const response = await request.delete(`/articles/${id}`)\r\n      if ( response.code === 200) {\r\n        return {\r\n          success: true,\r\n          code: 200,\r\n          message: '删除文章成功'\r\n        }\r\n      } else {\r\n        return {\r\n          success: false,\r\n          message: response.message || '删除文章失败'\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('删除文章失败:', error)\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || '删除文章失败'\r\n      }\r\n    }\r\n  }\r\n  \r\n  // 上传文章封面图\r\n  export const uploadArticleCover = async (formData) => {\r\n    try {\r\n      const response = await request.post(`/articles/uploadCover`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n      if (response.data && response.code === 200) {\r\n        return {\r\n          success: true,\r\n          code: 200,\r\n          data: response.data,\r\n          message: '封面图上传成功'\r\n        }\r\n      } else {\r\n        return {\r\n          success: false,\r\n          message: response.message || '封面图上传失败'\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('封面图上传失败:', error)\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || '封面图上传失败'\r\n      }\r\n    }\r\n  }\r\n  \r\n  // 创建文章\r\n  export const createArticle = async (articleData) => {\r\n    try {\r\n      const response = await request.post('/articles', articleData)\r\n      if (response.data && response.code === 200) {\r\n        return {\r\n          success: true,\r\n          code: 200,\r\n          message: '创建文章成功'\r\n        }\r\n      } else {\r\n        return {\r\n          success: false,\r\n          message: response.message || '创建文章失败'\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('创建文章失败:', error)\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || '创建文章失败'\r\n      }\r\n    }\r\n  }\r\n  \r\n  // 更新文章\r\n  export const updateArticle = async (id, articleData) => {\r\n    try {\r\n      const response = await request.put('/articles', { ...articleData, id })\r\n      if (response.data && response.code === 200) {\r\n        return {\r\n          success: true,\r\n          code: 200,\r\n          message: '更新文章成功'\r\n        }\r\n      } else {\r\n        return {\r\n          success: false,\r\n          message: response.message || '更新文章失败'\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('更新文章失败:', error)\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || '更新文章失败'\r\n      }\r\n    }\r\n  }\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}