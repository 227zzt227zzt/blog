{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  style: {\n    \"margin-bottom\": \"16px\",\n    \"text-align\": \"right\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createBlock(_component_el_card, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $setup.handleAdd\n    }, {\n      default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"新增标签\")])),\n      _: 1 /* STABLE */,\n      __: [4]\n    })]), _createVNode(_component_el_table, {\n      data: $setup.tags,\n      style: {\n        \"width\": \"100%\"\n      },\n      loading: $setup.loading\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"name\",\n        label: \"标签名称\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"description\",\n        label: \"描述\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"180\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          size: \"small\",\n          onClick: $event => $setup.handleEdit(scope.row)\n        }, {\n          default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"编辑\")])),\n          _: 2 /* DYNAMIC */,\n          __: [5]\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_button, {\n          size: \"small\",\n          type: \"danger\",\n          onClick: $event => $setup.handleDelete(scope.row)\n        }, {\n          default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"删除\")])),\n          _: 2 /* DYNAMIC */,\n          __: [6]\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\", \"loading\"]), _createVNode(_component_el_dialog, {\n      modelValue: $setup.dialogVisible,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.dialogVisible = $event),\n      title: $setup.dialogTitle,\n      width: \"400px\"\n    }, {\n      footer: _withCtx(() => [_createVNode(_component_el_button, {\n        onClick: _cache[2] || (_cache[2] = $event => $setup.dialogVisible = false)\n      }, {\n        default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"取消\")])),\n        _: 1 /* STABLE */,\n        __: [7]\n      }), _createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.handleSubmit\n      }, {\n        default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"确定\")])),\n        _: 1 /* STABLE */,\n        __: [8]\n      })]),\n      default: _withCtx(() => [_createVNode(_component_el_form, {\n        model: $setup.form,\n        \"label-width\": \"80px\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_form_item, {\n          label: \"标签名称\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.form.name,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.name = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_form_item, {\n          label: \"描述\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: $setup.form.description,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.description = $event)\n          }, null, 8 /* PROPS */, [\"modelValue\"])]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"model\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"title\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["style","_createBlock","_component_el_card","_createElementVNode","_hoisted_1","_createVNode","_component_el_button","type","onClick","$setup","handleAdd","_cache","_component_el_table","data","tags","loading","_component_el_table_column","prop","label","width","default","_withCtx","scope","size","$event","handleEdit","row","handleDelete","_component_el_dialog","dialogVisible","title","dialogTitle","footer","handleSubmit","_component_el_form","model","form","_component_el_form_item","_component_el_input","name","description"],"sources":["C:\\Users\\52291\\Desktop\\test\\blog\\blog\\blog-frontend\\src\\views\\tags\\AllTags.vue"],"sourcesContent":["<script setup>\r\nimport { listTags, createTag, deleteTag, updateTag } from '@/api/tags'\r\nimport { ref, onMounted } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\n\r\nconst tags = ref([])\r\nconst loading = ref(false)\r\nconst dialogVisible = ref(false)\r\nconst dialogTitle = ref('')\r\nconst form = ref({ id: null, name: '', description: '' })\r\nconst isEdit = ref(false)\r\n\r\nconst fetchTags = () => {\r\n    loading.value = true\r\n    listTags().then(res => {\r\n        tags.value = res.data\r\n    }).finally(() => {\r\n        loading.value = false\r\n    })\r\n}\r\n\r\nonMounted(() => {\r\n    fetchTags()\r\n})\r\n\r\nconst handleAdd = () => {\r\n    dialogTitle.value = '新增标签'\r\n    isEdit.value = false\r\n    form.value = { id: null, name: '', description: '' }\r\n    dialogVisible.value = true\r\n}\r\n\r\nconst handleEdit = (row) => {\r\n    dialogTitle.value = '编辑标签'\r\n    isEdit.value = true\r\n    form.value = { ...row }\r\n    dialogVisible.value = true\r\n}\r\n\r\nconst handleDelete = (row) => {\r\n    ElMessageBox.confirm('确定要删除该标签吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n    }).then(() => {\r\n        deleteTag(row.id).then(() => {\r\n            ElMessage.success('删除成功')\r\n            fetchTags()\r\n        })\r\n    }).catch(() => {})\r\n}\r\n\r\nconst handleSubmit = () => {\r\n    if (!form.value.name) {\r\n        ElMessage.warning('请输入标签名称')\r\n        return\r\n    }\r\n    if (isEdit.value) {\r\n        updateTag(form.value.id, {\r\n            name: form.value.name,\r\n            description: form.value.description\r\n        }).then(() => {\r\n            ElMessage.success('修改成功')\r\n            dialogVisible.value = false\r\n            fetchTags()\r\n        })\r\n    } else {\r\n        createTag({\r\n            name: form.value.name,\r\n            description: form.value.description\r\n        }).then(() => {\r\n            ElMessage.success('新增成功')\r\n            dialogVisible.value = false\r\n            fetchTags()\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n    \r\n<el-card>\r\n    <div style=\"margin-bottom: 16px; text-align: right;\">\r\n        <el-button type=\"primary\" @click=\"handleAdd\">新增标签</el-button>\r\n    </div>\r\n    <el-table :data=\"tags\" style=\"width: 100%\" :loading=\"loading\">\r\n        <el-table-column prop=\"name\" label=\"标签名称\" />\r\n        <el-table-column prop=\"description\" label=\"描述\" />\r\n        <el-table-column label=\"操作\" width=\"180\">\r\n            <template #default=\"scope\">\r\n                <el-button size=\"small\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                <el-button size=\"small\" type=\"danger\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n    <el-dialog v-model=\"dialogVisible\" :title=\"dialogTitle\" width=\"400px\">\r\n        <el-form :model=\"form\" label-width=\"80px\">\r\n            <el-form-item label=\"标签名称\">\r\n                <el-input v-model=\"form.name\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"描述\">\r\n                <el-input v-model=\"form.description\" />\r\n            </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n            <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n            <el-button type=\"primary\" @click=\"handleSubmit\">确定</el-button>\r\n        </template>\r\n    </el-dialog>\r\n</el-card>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n\r\n</style>"],"mappings":";;EAkFSA,KAA+C,EAA/C;IAAA;IAAA;EAAA;AAA+C;;;;;;;;;;uBADxDC,YAAA,CA4BUC,kBAAA;sBA3BN,MAEM,CAFNC,mBAAA,CAEM,OAFNC,UAEM,GADFC,YAAA,CAA6DC,oBAAA;MAAlDC,IAAI,EAAC,SAAS;MAAEC,OAAK,EAAEC,MAAA,CAAAC;;wBAAW,MAAIC,MAAA,QAAAA,MAAA,O,iBAAJ,MAAI,E;;;UAErDN,YAAA,CASWO,mBAAA;MATAC,IAAI,EAAEJ,MAAA,CAAAK,IAAI;MAAEd,KAAmB,EAAnB;QAAA;MAAA,CAAmB;MAAEe,OAAO,EAAEN,MAAA,CAAAM;;wBACjD,MAA4C,CAA5CV,YAAA,CAA4CW,0BAAA;QAA3BC,IAAI,EAAC,MAAM;QAACC,KAAK,EAAC;UACnCb,YAAA,CAAiDW,0BAAA;QAAhCC,IAAI,EAAC,aAAa;QAACC,KAAK,EAAC;UAC1Cb,YAAA,CAKkBW,0BAAA;QALDE,KAAK,EAAC,IAAI;QAACC,KAAK,EAAC;;QACnBC,OAAO,EAAAC,QAAA,CACuDC,KADhD,KACrBjB,YAAA,CAAqEC,oBAAA;UAA1DiB,IAAI,EAAC,OAAO;UAAEf,OAAK,EAAAgB,MAAA,IAAEf,MAAA,CAAAgB,UAAU,CAACH,KAAK,CAACI,GAAG;;4BAAG,MAAEf,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,E;;;0DACzDN,YAAA,CAAqFC,oBAAA;UAA1EiB,IAAI,EAAC,OAAO;UAAChB,IAAI,EAAC,QAAQ;UAAEC,OAAK,EAAAgB,MAAA,IAAEf,MAAA,CAAAkB,YAAY,CAACL,KAAK,CAACI,GAAG;;4BAAG,MAAEf,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,E;;;;;;;4CAIrFN,YAAA,CAaYuB,oBAAA;kBAbQnB,MAAA,CAAAoB,aAAa;iEAAbpB,MAAA,CAAAoB,aAAa,GAAAL,MAAA;MAAGM,KAAK,EAAErB,MAAA,CAAAsB,WAAW;MAAEZ,KAAK,EAAC;;MAS/Ca,MAAM,EAAAX,QAAA,CACb,MAAwD,CAAxDhB,YAAA,CAAwDC,oBAAA;QAA5CE,OAAK,EAAAG,MAAA,QAAAA,MAAA,MAAAa,MAAA,IAAEf,MAAA,CAAAoB,aAAa;;0BAAU,MAAElB,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,E;;;UAC5CN,YAAA,CAA8DC,oBAAA;QAAnDC,IAAI,EAAC,SAAS;QAAEC,OAAK,EAAEC,MAAA,CAAAwB;;0BAAc,MAAEtB,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,E;;;;wBAVtD,MAOU,CAPVN,YAAA,CAOU6B,kBAAA;QAPAC,KAAK,EAAE1B,MAAA,CAAA2B,IAAI;QAAE,aAAW,EAAC;;0BAC/B,MAEe,CAFf/B,YAAA,CAEegC,uBAAA;UAFDnB,KAAK,EAAC;QAAM;4BACtB,MAAgC,CAAhCb,YAAA,CAAgCiC,mBAAA;wBAAb7B,MAAA,CAAA2B,IAAI,CAACG,IAAI;uEAAT9B,MAAA,CAAA2B,IAAI,CAACG,IAAI,GAAAf,MAAA;;;YAEhCnB,YAAA,CAEegC,uBAAA;UAFDnB,KAAK,EAAC;QAAI;4BACpB,MAAuC,CAAvCb,YAAA,CAAuCiC,mBAAA;wBAApB7B,MAAA,CAAA2B,IAAI,CAACI,WAAW;uEAAhB/B,MAAA,CAAA2B,IAAI,CAACI,WAAW,GAAAhB,MAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}